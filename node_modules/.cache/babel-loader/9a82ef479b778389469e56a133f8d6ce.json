{"ast":null,"code":"import _objectSpread from\"/Users/sanjidanawrin/Desktop/employee-directory-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sanjidanawrin/Desktop/employee-directory-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import DataTable from\"../DataTable\";import Nav from\"../Nav\";import API from\"../../utils/API\";import\"./DataArea.css\";import DataAreaContext from\"../../utils/DataAreaContext\";var DataArea=function DataArea(){var _useState=useState({users:[],order:\"ascend\",filteredUsers:[],headings:[{name:\"Image\",width:\"10%\"},{name:\"Name\",width:\"10%\"},{name:\"Phone\",width:\"20%\"},{name:\"Email\",width:\"20%\"},{name:\"DOB\",width:\"10%\"}]}),_useState2=_slicedToArray(_useState,2),developerState=_useState2[0],setDeveloperState=_useState2[1];var handleSort=function handleSort(heading){if(developerState.order===\"descend\"){setDeveloperState({order:\"ascend\"});}else{setDeveloperState({order:\"descend\"});}var compareFnc=function compareFnc(a,b){if(developerState.order===\"ascend\"){if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return a[heading].first.localeCompare(b[heading].first);}else{return b[heading]-a[heading];}}else{if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return b[heading].first.localeCompare(a[heading].first);}else{return b[heading]-a[heading];}}};var sortedUsers=developerState.filteredUsers.sort(compareFnc);setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:sortedUsers}));};var handleSearchChange=function handleSearchChange(event){var filter=event.target.value;var filteredList=developerState.users.filter(function(item){var values=item.name.first.toLowerCase();return values.indexOf(filter.toLowerCase())!==-1;});setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:filteredList}));};useEffect(function(){API.getUsers().then(function(results){setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{users:results.data.results,filteredUsers:results.data.results}));});});return/*#__PURE__*/React.createElement(DataAreaContext.Provider,{value:{developerState:developerState,handleSearchChange:handleSearchChange,handleSort:handleSort}},/*#__PURE__*/React.createElement(Nav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"data-area\"},developerState.filteredUsers.length>0?/*#__PURE__*/React.createElement(DataTable,null):/*#__PURE__*/React.createElement(\"div\",null)));};export default DataArea;","map":{"version":3,"sources":["/Users/sanjidanawrin/Desktop/employee-directory-app/src/components/DataArea/index.js"],"names":["React","useState","useEffect","DataTable","Nav","API","DataAreaContext","DataArea","users","order","filteredUsers","headings","name","width","developerState","setDeveloperState","handleSort","heading","compareFnc","a","b","undefined","first","localeCompare","sortedUsers","sort","handleSearchChange","event","filter","target","value","filteredList","item","values","toLowerCase","indexOf","getUsers","then","results","data","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport DataTable from \"../DataTable\";\nimport Nav from \"../Nav\";\nimport API from \"../../utils/API\";\nimport \"./DataArea.css\";\nimport DataAreaContext from \"../../utils/DataAreaContext\"\n\nconst DataArea = () => {\n      const [developerState, setDeveloperState] = useState({\n        users: [],\n        order: \"ascend\",\n        filteredUsers: [],\n        headings: [\n          { name: \"Image\", width: \"10%\", },\n          { name: \"Name\", width: \"10%\", },\n          { name: \"Phone\", width: \"20%\", },\n          { name: \"Email\", width: \"20%\", },\n          { name: \"DOB\", width: \"10%\", }\n        ]\n      });\n    \n      const handleSort = heading => {\n        if (developerState.order === \"descend\") {\n            setDeveloperState({\n                order:\"ascend\"\n            })\n        } else{\n            setDeveloperState({\n                order:\"descend\"\n            })\n        }\n    \n        const compareFnc = (a, b) => {\n          if (developerState.order === \"ascend\") {\n            if (a[heading] === undefined) {\n              return 1;\n            } else if (b[heading] === undefined) {\n              return -1;\n            } else if (heading === \"name\") {\n              return a[heading].first.localeCompare(b[heading].first);\n            } else {\n              return b[heading] - a[heading];\n            } \n          } else {\n        if (a[heading] === undefined){\n            return 1;\n        } else if (b[heading] === undefined){\n            return -1;\n        } else if (heading ===\"name\"){\n            return b[heading].first.localeCompare(a[heading].first);\n        } else {\nreturn b[heading]-  a[heading];\n        }\n    }\n    }\n        const sortedUsers = developerState.filteredUsers.sort(compareFnc);\n\n        setDeveloperState({\n          ...developerState,\n          filteredUsers: sortedUsers\n});\n\n };\n   \n      const handleSearchChange = event => {\n        const filter = event.target.value;\n        const filteredList = developerState.users.filter(item => {\n          let values = item.name.first.toLowerCase();\n          return values.indexOf(filter.toLowerCase()) !== -1;\n        });\n    \n        setDeveloperState({ \n        ...developerState, \n        filteredUsers: filteredList });\n      };\n\n      useEffect(() => {\n        API.getUsers().then(results => {\n          setDeveloperState({\n            ...developerState,\n            users: results.data.results,\n            filteredUsers: results.data.results\n          });\n        });\n      }, );\n    \n      return (\n        <DataAreaContext.Provider\n          value={{ developerState, handleSearchChange, handleSort }}\n        >\n          <Nav />\n          <div className=\"data-area\">\n            {developerState.filteredUsers.length > 0 \n    ? <DataTable />\n     : <div></div>\n     }\n          </div>\n        </DataAreaContext.Provider>\n      );\n    }\n    \n    export default DataArea;"]},"metadata":{},"sourceType":"module"}